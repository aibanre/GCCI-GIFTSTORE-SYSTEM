<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - GCCI Giftstore</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="/css/dashboard.css" />
    <link rel="stylesheet" href="/css/pos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
    <!-- Header -->
    <div class="headerContainer">
      <div class="brandContainer">
        <div class="logoHolder">
          <img src="/images/image-removebg-preview-removebg-preview.png" alt="GCCI Logo" />
        </div>
        <div class="textHolder">
          <h1>GCCI Admin Dashboard</h1>
        </div>
      </div>
    </div>

    <!-- Dashboard Container -->
    <div class="dashboard-container">
      <!-- Sidebar Navigation -->
      <div class="admin-sidebar">
        <ul class="admin-nav">
          <li>
            <a href="#" class="active"><i class="fas fa-chart-line"></i> Dashboard</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-cash-register"></i> POS System</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-box"></i> Inventory</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-clipboard-check"></i> Reservations</a>
          </li>
          <li>
            <a href="#"><i class="fas fa-chart-bar"></i> Reports</a>
          </li>
        </ul>
      </div>

      <!-- Main Content Area -->
      <div class="main-content">
        
        <!-- Dashboard Section -->
        <div id="dashboardSection">
          <div class="dashboard-stats">
            <div class="stat-card">
              <h3>Total Products</h3>
              <div class="value" data-stat="totalProducts">0</div>
            </div>
            <div class="stat-card">
              <h3>Pending Reservations</h3>
              <div class="value" data-stat="pendingReservations">0</div>
            </div>
            <div class="stat-card">
              <h3>Low Stock Items</h3>
              <div class="value" data-stat="lowStockItems">0</div>
            </div>
            <div class="stat-card">
              <h3>Total Reservations</h3>
              <div class="value" data-stat="totalReservations">0</div>
            </div>
          </div>
        </div>

        <!-- Inventory Management Section -->
        <div class="form-container hidden" id="inventorySection">
          <h2>Inventory Management</h2>
          <div class="tab-container">
            <div class="tab-buttons">
              <button class="tab-btn active">Product List</button>
              <button class="tab-btn">Add New Product</button>
              <button class="tab-btn">Categories</button>
            </div>

            <!-- Product List Tab -->
            <div class="tab-content active" id="productListTab">
              <div class="data-table">
                <table>
                  <thead>
                    <tr>
                      <th>Product Name</th>
                      <th>Category</th>
                      <th>Price</th>
                      <th>Stock</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody id="productsTableBody">
                    <tr>
                      <td colspan="5" style="text-align: center; padding: 2rem;">Loading products...</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Add New Product Tab -->
            <div class="tab-content" id="addProductTab">
              <form class="product-form" id="addProductForm" method="post" action="/api/products" enctype="multipart/form-data" data-ajax="true">
                <div class="form-group">
                  <label>Product Name:</label>
                  <input type="text" class="form-control" id="productName" placeholder="Enter product name" />
                </div>
                <div class="form-group">
                  <label>Category:</label>
                  <select class="form-control" id="productCategory">
                    <option>Select a category</option>
                    <option>Books</option>
                    <option>Uniform</option>
                    <option>College</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Price:</label>
                  <input type="number" class="form-control" id="productPrice" placeholder="0.00" step="0.01" />
                </div>
                <div class="form-group">
                  <label>Stock Quantity:</label>
                  <input type="number" class="form-control" id="productStock" placeholder="0" />
                </div>
                <div class="form-group">
                  <label>Description:</label>
                  <textarea id="productDescription" class="form-control" placeholder="Enter product description" rows="4"></textarea>
                </div>
                <div class="form-group">
                  <label>Product Image:</label>
                  <div class="image-upload-section">
                    <input type="file" id="productImageInput" class="form-control hidden" accept="image/*" />
                    <button type="button" class="btn btn-secondary" onclick="document.getElementById('productImageInput').click()">
                      <i class="fas fa-image"></i> Upload Image
                    </button>
                    <div id="imagePreview"></div>
                  </div>
                </div>
                <div class="form-actions">
                  <button type="submit" class="btn btn-primary">Add Product</button>
                  <button type="reset" class="btn btn-secondary">Clear Form</button>
                </div>
              </form>
            </div>

            <!-- Categories Tab -->
            <div class="tab-content" id="categoriesTab">
              <div class="category-management">
                <h4>Add New Category</h4>

                <div class="category-form-section">
                  <form class="category-form" id="addCategoryForm" method="post" action="/api/categories">
                    <div class="form-group">
                      <label>Category Name:</label>
                      <input type="text" name="CategoryName" id="categoryName" class="form-control" placeholder="Enter category name" />
                    </div>
                    <button type="submit" class="btn btn-primary">
                      Add Category
                    </button>
                  </form>
                </div>

                <div class="categories-list-section">
                  <h4>Active Categories</h4>
                  <div class="data-table">
                    <table>
                      <thead>
                        <tr>
                          <th>Category Name</th>
                          <th>Description</th>
                          <th>Items Count</th>
                          <th>Actions</th>
                        </tr>
                      </thead>
                      <tbody id="categoriesTableBody">
                        <tr>
                          <td colspan="4" style="text-align: center; padding: 2rem;">Loading categories...</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Reservations Section -->
        <div class="form-container hidden" id="reservationsSection">
          <h2>Manage Reservations</h2>
          <div class="data-table">
            <table>
              <thead>
                <tr>
                  <th>Customer</th>
                  <th>Product</th>
                  <th>Quantity</th>
                  <th>Date</th>
                  <th>Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="reservationsTableBody">
                <tr>
                  <td colspan="6" style="text-align: center; padding: 2rem;">Loading reservations...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Reports Section -->
        <div class="form-container hidden" id="reportsSection">
          <h2>Reports</h2>
          <div class="report-filters">
            <select class="form-control">
              <option>Stock Report</option>
              <option>Reservation Report</option>
              <option>Sales Report</option>
            </select>
            <input type="date" class="form-control" />
            <input type="date" class="form-control" />
            <button class="btn btn-primary">Generate Report</button>
          </div>
          <div class="report-chart">
            <!-- Chart will be rendered here -->
          </div>
        </div>

        <!-- POS System Section -->
        <div class="form-container hidden" id="posSystemSection">
          <h2>Point of Sale (POS) System</h2>

          <div class="pos-container">
            <!-- Product Selection Panel -->
            <div class="pos-products-panel">
              <h3>Available Products</h3>
              <div class="product-search-bar">
                <input type="text" id="posProductSearch" class="form-control" placeholder="Search product..." />
                <select id="posCategoryFilter" class="form-control">
                  <option value="">All Categories</option>
                  <option value="books">Books</option>
                  <option value="uniform">Uniform</option>
                  <option value="college">College</option>
                  <option value="senior-high">Senior High</option>
                  <option value="electronics">Electronics</option>
                </select>
              </div>
              <div class="pos-products-list" id="posProductsList">
                <!-- Products loaded from API -->
              </div>
            </div>

            <!-- Transaction Panel -->
            <div class="pos-transaction-panel">
              <h3>Current Transaction</h3>

              <!-- Cart Section -->
              <div class="pos-cart-section">
                <h4>Cart Items</h4>
                <div class="pos-cart-items" id="posCartItems">
                  <p class="empty-cart">Cart is empty</p>
                </div>
              </div>

              <!-- Summary -->
              <div class="pos-summary">
                <div class="summary-row">
                  <span>Subtotal:</span>
                  <strong id="posSubtotal">₱0.00</strong>
                </div>
                <div class="summary-row summary-total">
                  <span>Total:</span>
                  <strong id="posTotalAmount">₱0.00</strong>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="pos-actions">
                <button class="btn btn-success btn-block" id="posCompleteTransaction">
                  Complete Purchase
                </button>
                <button class="btn btn-danger btn-block" id="posClearCart">
                  Clear Cart
                </button>
              </div>

              <!-- Receipt (Hidden by default) -->
              <div class="pos-receipt hidden" id="posReceipt">
                <h4>Purchase Slip</h4>
                <div id="receiptContent"></div>
                <button class="btn btn-primary btn-block" onclick="window.print()">
                  Print Slip
                </button>
                <button class="btn btn-secondary btn-block" id="posCloseReceipt">
                  New Purchase
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="/js/dashboard.js"></script>
    <script src="/js/tabs.js"></script>
    <script src="/js/stats.js"></script>
    <script src="/js/categories.js"></script>
    <script src="/js/inventory.js"></script>
    <script src="/js/pos.js"></script>
  </body>
</html>
